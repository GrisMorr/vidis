<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>MSIM-Datei</title>
	<para>
		Im folgenden wird die Struktur einer MSIM-Datei erläutert.
	</para>
	<section>
		<title>Beschreibung</title>
		<para>
			Eine MSIM-Datei wird eine Datei mit der Endung .msim genannt.
			Diese kann dazu verwendet werden um eine Struktur eines Modules zu
			beschreiben. Man gibt dabei Nodes, Links und die Verbindungen
			dazwischen an.
		</para>
		<example>
			<title>Beispiel für eine MSIM-Datei</title>
			<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
				<![CDATA[
					<module>
						<id>Module ID</id>
						<classpath>vidis.modules.someModule</classpath>
						<nodeDensity>0.5</nodeDensity>
						<objects>
							<node>
								<id>node01</id>
								<class>SomeNode</class>
							</node>
							<node>
								<id>nodeWithVariables</id>
								<class>SomeNode</class>
								<variables>
									<someVariable>value</someVariable>
								</variables>
							</node>
							<link>
								<id>link01</id>
								<class>SomeLink</class>
								<delay>5</delay>
							</link>
						</objects>
						<connections>
							<connection>
								<nodeA>node01</nodeA>
								<nodeB>nodeWithVariables</nodeB>
								<link>link01</link>
						</connections>
					</module>
				]]>
			</programlisting>
		</example>
	</section>
	<section>
		<title>Format</title>
		<para>
			Im Folgenden werden die XML Knoten einer MSIM-Datei beschrieben.
			<footnote>
				<para>
					Alle Schlüssel der XML-Elemente sind nicht case-sensitiv,
					d.h.
					es macht z.B. keinen Unterschied wenn der Wurzelschlüssel
					"module"
					oder "Module" oder "MoDuLe" benannt wird.
				</para>
			</footnote>
		</para>
		<section>
			<title>Module</title>
			<para>Dies ist das Wurzelelement. Es beinhaltet 5 Kindelemente.
				Es folgt eine Auflistung dieser Elemente.</para>
			<section>
				<title>ID</title>
				<para>
					Dieses Element beinhaltet einen String, welches dieses
					Modul
					beschreibt.
					<footnote>
						<para>z.B. Demo Module 1</para>
					</footnote>
				</para>
				<example>
						<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
						<![CDATA[
							<id>someId</id>
						]]>
						</programlisting>
					</example>
			</section>
			<section>
				<title>Classpath</title>
				<para>
					Dieses Element beinhaltet einen String zum classpath der
					Modul Klassen.
				</para>
				<example>
					<title>Ein ausführliches Beispiel für ein Classpath Element</title>
					<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
					<![CDATA[
						<classpath>some.specific.classpath.where.all.module.classes.reside</classpath>
					]]>
					</programlisting>
				</example>
				<example>
					<title>Ein Beispiel für einen Classpath</title>
					<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
					<![CDATA[
						my.vidis.modules.mymodule
					]]>
					</programlisting>
				</example>
			</section>
			<section>
				<title>Objects</title>
				<para>Dieses Element beinhaltet alle zu ladenden Link- und
					Node-Objektinstanzen.</para>
				<section>
					<title>Node</title>
					<para>
						Dieses Element beschreibt eine Node-Objektinstanz.
					</para>
					<example>
						<title>Beispiel für ein Node Element mit Variablen</title>
						<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
						<![CDATA[
							<node>
								<id>uniqueNodeId</id>
								<class>implementedClassName</class>
							</node>
						]]>
						</programlisting>
					</example>
					<example>
						<title>Beispiel für ein Node Element mit Variablen</title>
						<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
						<![CDATA[
							<node>
								<id>uniqueNodeId</id>
								<class>implementedClassName</class>
								<variables>
									<var1>var1Value</var1>
									<var2>var2Value</var2>
								</variables>
							</node>
						]]>
						</programlisting>
					</example>
					<section>
						<title>ID</title>
						<para>Ein String, welcher diese Instanz eindeutig (UNIQUE)
							beschreibt.</para>
					</section>
					<section>
						<title>CLASS</title>
						<para>Ein String, welche die Klasse dieser Instanz beschreibt.
							Zusammen mit dem Classpath-Element ist dies der Classpath der
							zu
							ladenden Klasse.</para>
					</section>
					<xi:include href="msim/variables.xml" />
				</section>
				<section>
					<title>Link</title>
					<para>
						Dieses Element beschreibt eine Link-Objektinstanz.
					</para>
					<example>
						<title>Beispiel für ein Link-Element</title>
						<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
						<![CDATA[
							 <link>
							 	<id>uniqueLinkId</id>
							 	<class>implementingClass</class>
							 	<delay>5</delay>
							 </link>
						]]>
						</programlisting>
					</example>
					<example>
						<title>Beispiel für ein Link-Element mit Variablen</title>
						<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
						<![CDATA[
							 <link>
							 	<id>uniqueLinkId</id>
							 	<class>implementingClass</class>
							 	<delay>5</delay>
							 	<variables>
							 		<var1>var1value</var1>
							 		<var2>var2value</var2>
							 	</variables>
							 </link>
						]]>
						</programlisting>
					</example>
					<section>
						<title>ID</title>
						<para>Ein String, welcher diese Instanz eindeutig (UNIQUE)
							beschreibt.</para>
					</section>
					<section>
						<title>CLASS</title>
						<para>Ein String, welche die Klasse dieser Instanz beschreibt.
							Zusammen mit dem Classpath-Element ist dies der Classpath der
							zu
							ladenden Klasse.</para>
					</section>
					<section>
						<title>DELAY</title>
						<para>Eine Zahl im Wertebereich eines Java Long Integers,
							welcher den Delay (die Länge des Links)
							beschreibt.</para>
					</section>
					<xi:include href="msim/variables.xml" />
				</section>
			</section>
			<section>
				<title>Connections</title>
				<para>
					Dieses Element beinhaltet alle Verbindungen, welche
					zwischen Nodes
					mit Hilfe von Links hergestellt werden sollen.
				</para>
				<example>
					<title>Beispiel für eine einzelne Verbindung zwischen Node A und Node B über Link L.</title>
					<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
					<![CDATA[
						<connections>
							<connection>
								<nodeA>A</nodeA>
								<nodeB>B</nodeB>
								<link>L</link>
							</connection>
						</connections>
					]]>
					</programlisting>
				</example>
				<example>
					<title>Beispiel mit mehreren Verbindung zwischen diversen Nodes in einer Ring Topologie.</title>
					<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
					<![CDATA[
						<connections>
							<connection>
								<nodeA>node0</nodeA>
								<nodeB>node1</nodeB>
								<link>link0-1</link>
							</connection>
							<connection>
								<nodeA>node1</nodeA>
								<nodeB>node2</nodeB>
								<link>link1-2</link>
							</connection>
							<connection>
								<nodeA>node3</nodeA>
								<nodeB>node4</nodeB>
								<link>link3-4</link>
							</connection>
							<connection>
								<nodeA>node4</nodeA>
								<nodeB>node0</nodeB>
								<link>link4-0</link>
							</connection>
						</connections>
					]]>
					</programlisting>
				</example>
				<section>
					<title>Connection</title>
					<para>Dieses Element beschreibt eine Verbindung zwischen zwei
						Nodes.</para>
					<section>
						<title>NodeA</title>
						<para>
							Die id der ersten Node.
							<footnote>
								<para>z.B. node01</para>
							</footnote>
						</para>
					</section>
					<section>
						<title>NodeB</title>
						<para>
							Die id der zweiten Node.
							<footnote>
								<para>z.B. node02</para>
							</footnote>
						</para>
					</section>
					<section>
						<title>Link</title>
						<para>
							Die id des zu verwenden Links.
							<footnote>
								<para>z.B. link_node01_node02</para>
							</footnote>
						</para>
					</section>
				</section>
			</section>
			<section>
				<title>NodeDensity</title>
				<para>
					Dieses Element beinhaltet einen Zahlwert im Wertebereich
					[0..1] mit
					Nachkommastellen. Er beschreibt wie nahe die Knoten zu
					einander
					stehen sollen. 0 ist dabei der Minimalabstand, 1 der
					Maximalabstand. Dieser Parameter beeinflußt direkt die vorhandenen
					Layouts.
				</para>
				<example>
					<title>Beispiel für ein NodeDensity Element.</title>
					<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0">
					<![CDATA[
						<nodeDensity>0.5</nodeDensity>
					]]>
					</programlisting>
				</example>
			</section>
		</section>
	</section>
</section>
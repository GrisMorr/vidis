<section xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
	xmlns:xi="http://www.w3.org/2001/XInclude">
	<title>MSIM-Datei</title>
	<para>
		Im folgenden wird die Struktur einer MSIM-Datei erläutert.
	</para>
	<section>
		<title>Beschreibung</title>
		<para>
			Eine MSIM-Datei wird eine Datei mit der Endung .msim genannt.
			Diese kann dazu verwendet werden um eine Struktur eines Modules zu
			beschreiben. Man gibt dabei Nodes, Links und die Verbindungen
			dazwischen an.
		</para>
		<para>
			Das folgende Beispiel soll die Struktur einer MSIM-Datei veranschaulichen.
		</para>
		<example>
			<title>Eine vollständige MSIM-Datei</title>
			<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<module>
	<description>Module</description>
	<package>vidis.modules.someModule</package>
	<nodeDensity>0.5</nodeDensity>
	<objects>
		<node>
			<id>node01</id>
			<class>SomeNode</class>
		</node>
		<node>
			<id>nodeWithVariables</id>
			<class>SomeNode</class>
			<variables>
				<someVariable>value</someVariable>
			</variables>
		</node>
		<link>
			<id>link01</id>
			<class>SomeLink</class>
			<delay>5</delay>
		</link>
	</objects>
	<connections>
		<connection>
			<nodeA>node01</nodeA>
			<nodeB>nodeWithVariables</nodeB>
			<link>link01</link>
	</connections>
</module>]]></programlisting>
		</example>
	</section>
	<section>
		<title>Definition</title>
		<para>
			Im Folgenden werden alle XML Elemente einer MSIM-Datei
			beschrieben und mit Beispielen veranschaulicht.
		</para>
		<note>
			<para>
			Alle Schlüssel der XML-Elemente sind entgegen dem
			XML-Standard nicht case-sensitiv,
				d.h.
				es macht z.B. keinen Unterschied wenn der Wurzelschlüssel
				"module"
				oder "Module" oder "MoDuLe" benannt wird. Als Konvention
				der Namensgebung werden diese im folgenden
				Bereich immer kleingeschrieben.
			</para>
		</note>
		<variablelist>
			<title>Format (Struktur) des MSIM XML Dokuments</title>
			<varlistentry>
				<term>module</term>
				<listitem>
					<para>
						Dieses XML Element ist das Wurzelelement
						für dieses Dokument. Es beinhaltet folgende
						Kinder:
						<variablelist>
							<varlistentry>
								<term>description</term>
								<listitem>
									<para>
										Dieses Element repräsentiert eine
										Beschreibung für dieses Modul. Es beinhaltet
										einen String mit möglichst aussagekräftigem
										Inhalt.
										 Dieses Element
										besitzt verschiedene Aliase. Es ist jedoch dringend empfohlen
										den Standardbezeichner <quote>description</quote> zu verwenden, da die Aliase nur aus Kompatibilitätsgründen
										vom System unterstützt werden. Dieser Support wird in der nächsten
										Generation von VIDIS entfernt!
									</para>
									<itemizedlist>
										<title>Eine komplette Liste aller Aliase für dieses Element</title>
										<listitem>
											<para>id</para>
										</listitem>
										<listitem>
											<para>description</para>
										</listitem>
									</itemizedlist>
									<example>
										<title>Ein MSIM <quote>description</quote> Element</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<description>someId</description>]]></programlisting>
									</example>
									<example>
										<title>Ein MSIM <quote>description</quote> Element</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<description>Das ist das Modul X</description>]]></programlisting>
									</example>
								</listitem>
							</varlistentry>
							<varlistentry xml:id="implementation.modules.msim.package">
								<term>package</term>
								<listitem>
									<para>
										Dieses Element steht für das Java Package, in
										welchem alle Klassen des Moduls liegen.
										Es beinhaltet einen String im Format eines Java Paketnamens zu den Klassen der Modul Komponenten. Dieses Element
										besitzt verschiedene Aliase. Es ist jedoch dringend empfohlen
										den Standardbezeichner <quote>package</quote> zu verwenden, da die Aliase nur aus Kompatibilitätsgründen
										vom System unterstützt werden. Dieser Support wird in der nächsten
										Generation von VIDIS entfernt!
									</para>
									<itemizedlist>
										<title>Eine komplette Liste aller Aliase für dieses Element</title>
										<listitem>
											<para>classpath</para>
										</listitem>
										<listitem>
											<para>package</para>
										</listitem>
									</itemizedlist>
									<example>
										<title>Ein Modul-Package Element</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<package>vidis.modules.moduleName</package>]]></programlisting>
									</example>
									<example>
										<title>Inhalt eines Modul-Package Elements</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[my.vidis.modules.mymodule]]></programlisting>
									</example>
								</listitem>
							</varlistentry>
							<varlistentry>
								<term>nodedensity</term>
								<listitem>
									<note>
										<para>
											Dieses Element ist optional.
										</para>
									</note>
									<para>
										Dieses Element beinhaltet einen Zahlwert im Wertebereich
										[0..1] mit
										Nachkommastellen. Er beschreibt wie nahe die Knoten zu
										einander
										stehen sollen. 0 ist dabei der Minimalabstand, 1 der
										Maximalabstand. Dieser Parameter beeinflußt direkt die vorhandenen
										Layouts.
									</para>
									<example>
										<title>Ein NodeDensity Element</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<nodeDensity>0.5</nodeDensity>]]></programlisting>
									</example>
								</listitem>
							</varlistentry>
							<varlistentry>
								<term>objects</term>
								<listitem>
									<para>
										Dieses Element beinhaltet alle beteiligten Link- und
										Node-Objektinstanzen.
									</para>
									<variablelist>
										<varlistentry>
											<term>node</term>
											<listitem>
												<para>
													Dieses Element beschreibt eine Node-Objektinstanz.
												</para>
												<example>
													<title>Ein Node Element ohne Variablen</title>
													<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<node>
	<id>uniqueNodeId1</id>
	<class>implementedClassName</class>
</node>]]></programlisting>
												</example>
												<example>
													<title>Ein Node Element mit Variablen</title>
													<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<node>
	<id>uniqueNodeId2</id>
	<class>implementedClassName</class>
	<variables>
		<var1>var1Value</var1>
		<var2>var2Value</var2>
	</variables>
</node>]]></programlisting>
												</example>
												<note>
													<para>
														Das Element class beinhaltet einen String,
														welcher die Klasse dieser Instanz beschreibt.
														Zusammen mit dem Package-Element (vgl. <xref linkend="implementation.modules.msim.package" />) ist dies
														der volle Name der zu ladenden Klasse.
													</para>
												</note>
												<warning>
													<para>
														Die id eines Nodes muss zwingend eindeutig
														sein. Sollten zwei Nodes mit derselben id
														vorhanden sein, wird der zweitvorkommende
														Node beim Instantiieren der Instanzen während des
														Ladevorgang nicht
														beachtet. Dies kann zu unerwünschten Ergebnissen
														führen!
													</para>
												</warning>
												<xi:include href="msim/variables.xml" />
											</listitem>
										</varlistentry>
										<varlistentry>
											<term>link</term>
											<listitem>
												<para>
													Dieses Element beschreibt eine Link-Objektinstanz.
												</para>
												<example>
													<title>Ein Link-Element</title>
													<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<link>
	<id>uniqueLinkId1</id>
	<class>implementingClass</class>
	<delay>5</delay>
</link>
]]></programlisting>
												</example>
												<example>
													<title>Ein Link-Element mit Variablen</title>
													<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<link>
	<id>uniqueLinkId2</id>
	<class>implementingClass</class>
	<delay>5</delay>
	<variables>
		<var1>var1value</var1>
		<var2>var2value</var2>
	</variables>
</link>]]></programlisting>
												</example>
												<note>
													<para>
														Das Element class beinhaltet einen String,
														welcher die Klasse dieser Instanz beschreibt.
														Zusammen mit dem Package-Element ist dies
														der Classpath der zu ladenden Klasse.
													</para>
												</note>
												<note>
													<para>
														Eine Zahl im Wertebereich eines Java Long Integers,
														welcher den Delay (die Länge des Links)
														beschreibt.
													</para>
												</note>
												<warning>
													<para>
														Die id eines Links muss zwingend eindeutig
														sein. Sollten zwei Links mit derselben id
														vorhanden sein, wird der zweitvorkommende
														Link beim Instantiieren der Instanzen während
														des Ladevorgangs nicht
														beachtet. Dies kann zu unerwünschten Ergebnissen
														führen!
													</para>
												</warning>
												<xi:include href="msim/variables.xml" />
											</listitem>
										</varlistentry>
									</variablelist>
								</listitem>
							</varlistentry>
							<varlistentry>
								<term>connections</term>
								<listitem>
									<para>
										Dieses Element beinhaltet alle Verbindungen, welche
										zwischen Nodes
										mit Hilfe von Links hergestellt werden sollen.
									</para>
									<variablelist>
										<varlistentry>
											<term>connection</term>
											<listitem>
												<para>
													Dieses Element beschreibt eine Verbindung zwischen zwei Nodes.
													Die Elemente nodeA, nodeB und link beinhalten ids von Nodes
													beziehungsweise Links. <xref linkend="example_connection_simple" />
													stellt eine Verbindung zwischen Node <quote>A</quote> und node <quote>B</quote> mittels
													dem Link <quote>L</quote> her.
												</para>
											</listitem>
										</varlistentry>
									</variablelist>
									<example xml:id="example_connection_simple">
										<title>Eine einzelne Verbindung zwischen Node A und Node B über Link L</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<connections>
	<connection>
		<nodeA>A</nodeA>
		<nodeB>B</nodeB>
		<link>L</link>
	</connection>
</connections>]]></programlisting>
									</example>
									<example>
										<title>Mehrere Verbindungen in einer Ring Topologie</title>
										<programlisting format="linespecific" linenumbering="numbered" startinglinenumber="0"><![CDATA[<connections>
	<connection>
		<nodeA>node0</nodeA>
		<nodeB>node1</nodeB>
		<link>link0-1</link>
	</connection>
	<connection>
		<nodeA>node1</nodeA>
		<nodeB>node2</nodeB>
		<link>link1-2</link>
	</connection>
	<connection>
		<nodeA>node3</nodeA>
		<nodeB>node4</nodeB>
		<link>link3-4</link>
	</connection>
	<connection>
		<nodeA>node4</nodeA>
		<nodeB>node0</nodeB>
		<link>link4-0</link>
	</connection>
</connections>]]></programlisting>
									</example>
								</listitem>
							</varlistentry>
						</variablelist>
					</para>
				</listitem>
			</varlistentry>
		</variablelist>
	</section>
</section>